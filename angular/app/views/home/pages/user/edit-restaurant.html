
<div class="content-wrapper">


	<div class="container">

		
		<section class="content">

			<div class="row">
				
				<div class="col-md-3">

					<!-- Profile Image -->
					<div class="box box-primary">
						<div class="box-body box-profile">

							<img class="img-responsive" ng-src="public/images/{{restaurant.image}}" alt="User profile picture">

							<h3 class="profile-username text-center">{{restaurant.name}}</h3>

							<p class="text-muted text-center">{{restaurant.place}} - {{restaurant.ward_name}} - {{restaurant.district_name}} - {{restaurant.province_name}}</p>

							<ul class="list-group list-group-unbordered">
								<li class="list-group-item"><b>Email</b> <span class="pull-right">{{restaurant.email}}</span></li>
								<li class="list-group-item"><b>Số điện thoại</b> <span class="pull-right">{{restaurant.phone}}</span></li>
								<li class="list-group-item"><b>Giờ mở cửa</b> <span class="pull-right">{{restaurant.open}}</span></li>
								<li class="list-group-item"><b>Giờ đóng cửa</b> <span class="pull-right">{{restaurant.close}}</span></li>
								<li class="list-group-item"><b>Giá thấp nhất</b> <span class="pull-right">{{restaurant.min | currency : "" : 0}} VND</span></li>
								<li class="list-group-item"><b>Giá cao nhất</b> <span class="pull-right">{{restaurant.max | currency : "" : 0}} VND</span></li>
								<li class="list-group-item"><b>Số lượng món ăn</b> <span class="pull-right">{{restaurant.count}}</span></li>
							</ul>

							<a ui-sref="home.user-restaurant-edit({id: restaurant.id})" class="btn btn-primary btn-block"><b>Chỉnh sửa</b></a>
						</div>
						<!-- /.box-body -->
					</div>
					<!-- /.box -->
				</div>

				<div class="col-md-9">
					<div class="box box-info">
						<div class="box-header with-border text-center">
							<h3 class="box-title">Cập nhật địa điểm</h3>
						</div>
						<!-- /.box-header -->
						<!-- form start -->
						<form class="form-horizontal" ng-submit="save({restaurant: restaurant, time: time})">
							<div class="box-body">

								<div class="form-group" ng-class="{'has-error': hasername}">
									<label for="inputEmail3" class="col-sm-3 control-label">Tên địa điểm</label>

									<div class="col-sm-8">
										<input type="text" class="form-control" id="inputEmail3" ng-model="restaurant.name" placeholder="Tên địa điểm">
										<p class="text-danger">{{ ername }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haserphone}">
									<label for="inputPassword3" class="col-sm-3 control-label">Số điện thoại</label>

									<div class="col-sm-8">
										<input type="text" class="form-control" id="inputPassword3" ng-model="restaurant.phone" placeholder="Số điện thoại">
										<p class="text-danger">{{ erphone }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haseremail}">
									<label for="inputPassword3" class="col-sm-3 control-label">Email</label>

									<div class="col-sm-8">
										<input type="email" class="form-control" id="inputPassword3" ng-model="restaurant.email" placeholder="Email">
										<p class="text-danger">{{ eremail }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': hasercategory}">
									<label for="inputPassword3" class="col-sm-3 control-label">Loại hình</label>

									<div class="col-sm-8">

										<select class="form-control" ng-options="category.id as category.name for category in categories" ng-model="restaurant.categoryid"></select>

										<p class="text-danger">{{ ercategory }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haseropen}">
									<label for="inputPassword3" class="col-sm-3 control-label">Thời gian mở cửa</label>

									<div class="col-sm-8">
										<input type="hidden" name="" ng-model="restaurant.open" ng-init="restaurant.open = null">
										<div class="row">
											<div class="col-md-6">
												<select name="" class="form-control" id="" ng-model="time.timeOpen">
													<option value="">Giờ</option>
													<option ng-repeat="time in times" value="{{time}}">{{time}}</option>
												</select>
											</div>
											<div class="col-md-6">
												<select name="" class="form-control" id="" ng-model="time.minuteOpen">
													<option value="">Phút</option>
													<option ng-repeat="minute in minutes" value="{{minute}}">{{minute}}</option>
												</select>
											</div>
										</div>
										<p class="text-danger">{{ eropen }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haserclose}">
									<label for="inputPassword3" class="col-sm-3 control-label">Thời gian đóng cửa</label>

									<div class="col-sm-8">
										<input type="hidden" name="" ng-model="restaurant.close" ng-init="restaurant.close = null">
										<div class="row">
											<div class="col-md-6">
												<select name="" class="form-control" id="" ng-model="time.timeClose">
													<option value="">Giờ</option>
													<option ng-repeat="time in times" value="{{time}}">{{time}}</option>
												</select>
											</div>
											<div class="col-md-6">
												<select name="" class="form-control" id="" ng-model="time.minuteClose">
													<option value="">Phút</option>
													<option ng-repeat="minute in minutes" value="{{minute}}">{{minute}}</option>
												</select>
											</div>
										</div>
										<p class="text-danger">{{ erclose }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': hasermin}">
									<label for="inputPassword3" class="col-sm-3 control-label">Giá thấp nhất</label>

									<div class="col-sm-8">
										<input type="number" class="form-control" id="inputPassword3" ng-model="restaurant.min" placeholder="Giá thấp nhất">
										<p class="text-danger">{{ ermin }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': hasermax}">
									<label for="inputPassword3" class="col-sm-3 control-label">Giá cao nhất</label>

									<div class="col-sm-8">
										<input type="number" class="form-control" id="inputPassword3" ng-model="restaurant.max" placeholder="Giá cao nhất">
										<p class="text-danger">{{ ermax }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haserplace}">
									<label for="inputPassword3" class="col-sm-3 control-label">Địa chỉ</label>

									<div class="col-sm-8">
										<input type="text" class="form-control" id="inputPassword3" ng-model="restaurant.place" placeholder="Số nhà - đường">
										<p class="text-danger">{{ erplace }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haserwardid}">
									<label for="inputPassword3" class="col-sm-3 control-label"></label>

									<div class="col-sm-8">
										<div class="row">
											<div class="col-md-4">
												<select class="form-control" 
												ng-options="province as province.name for province in provinces track by province.provinceid" 
												ng-model="province" ng-change="changProvince()"></select>
											</div>
											<div class="col-md-4">
												<select class="form-control" 
												ng-options="district as district.name for district in districts track by district.districtid" 
												ng-model="district" ng-change="changeDistrict()"></select>
											</div>
											<div class="col-md-4">
												<select name="" class="form-control" id="" ng-model="restaurant.wardid">
													<option ng-repeat="ward in wards" value="{{ward.wardid}}">{{ward.name}}</option>
												</select>
											</div>
										</div>
										<p class="text-danger">{{ erwardid }}</p>
									</div>
								</div>
								<div class="form-group" ng-class="{'has-error': haserimage}">
									<label for="inputEmail3" class="col-sm-3 control-label">Hình ảnh</label>

									<div class="col-sm-8" nv-file-drop="" uploader="uploader">
										<!-- Show images -->     
										<div  class="image" ng-repeat="item in uploader.queue">
											<div ng-thumb="{ file: item._file, height: 100, width: 100 }"></div>
											<button class="remove" ng-click="item.remove()">x</button>
										</div> 

				                  <!-- <div drop-zone ng-model="files" class="one">
				                    <p>+</p>
				                </div> -->
				                <input type="file" class="one" nv-file-select="" uploader="uploader"/>
				            </div>
				        </div>
				        <div class="form-group">
				        	<label for="inputPassword3" class="col-sm-3 control-label">Mô tả địa điểm</label>

				        	<div class="col-sm-8">
				        		<textarea class="form-control" rows="3" ng-model="restaurant.description"></textarea>
				        	</div>
				        </div>

				    </div>
				    <!-- /.box-body -->
				    <div class="box-footer">
				    	<div class="col-sm-offset-1 col-sm-5">
				    		<a href="javascript:window.history.back();" class="btn btn-block btn-lg btn-primary btn-flat pull-right">Quay lại</a>
				    	</div>
				    	<div class="col-sm-5">
				    		<button type="submit" class="btn btn-block btn-lg btn-primary btn-flat pull-right">Cập nhật</button>
				    	</div>
				    </div>
				    <!-- /.box-footer -->
				</form>
			</div>

		</div>
		
	</div>
	<!-- /.row -->
</section>
</div>

<!-- /.container -->
</div>